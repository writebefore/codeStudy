<!--
 * @Author: LHN
 * @Date: 2020-09-28 11:16:40
 * @LastEditors: LHN
 * @LastEditTime: 2020-09-28 11:34:32
 * @description: In User Settings Edit
 * @FilePath: \async-await\index.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 需要使用异步函数的函数前面加上async, 声明这是一个异步函数

        function getData() {
            setTimeout(() => {
                return 'DATA'
            }, 500)
        }

        async function testAsync() {
            // 在异步函数上加上await, 函数执行就会等待await声明的异步函数执行完毕, 再执行
            try {
                await getData()
            } catch (error) {
                console.log(err);
            }
            // ...剩下的代码
        }


    // 1. 函数声明式, 函数表达式, 对象方法, class方法, 箭头函数方法都可以声明async
    // 2. 任何一个语句的后面的Promise对选变为reject, 那么整个async函数会终断
    // 3. async 返回Promise对象, 必须等到所有的await命令后面的Promise对象执行完才会发生状态改变
    </script>
</body>

</html>